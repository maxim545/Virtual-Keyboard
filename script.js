(()=>{"use strict";var e={426:(e,t,s)=>{s.d(t,{Z:()=>h});var n=s(81),a=s.n(n),c=s(645),o=s.n(c),i=s(667),l=s.n(i),r=new URL(s(820),s.b),d=o()(a()),p=l()(r);d.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    user-select: none;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n    display: block;\n}\n\nbody {\n    line-height: 1;\n}\n\nol,\nul {\n    list-style: none;\n}\n\nblockquote,\nq {\n    quotes: none;\n}\n\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n    content: '';\n    content: none;\n}\n\ntable {\n    border-collapse: collapse;\n    border-spacing: 0;\n}\n\nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    position: relative;\n    font-family: sans-serif;\n    font-weight: 400;\n    font-size: 15px;\n    line-height: 24px;\n    max-width: 840px;\n    margin: 0 auto;\n    background: url("+p+") no-repeat center center fixed;\n    background-size: cover;\n}\n\n.container {\n    margin: 15px auto;\n    width: 100%;\n    padding: 15px;\n    background-color: rgb(176, 176, 176);\n    border: 4px solid rgb(255, 255, 255);\n    border-radius: 10px;\n    box-shadow: 0 0 5px rgb(234, 235, 244);\n}\n\n\n.title {\n    max-width: 460px;\n    padding-top: 15px;\n    text-align: center;\n    font-size: 15px;\n    font-weight: bold;\n    color:rgb(255, 255, 255)\n}\n\n.textarea {\n    width: 100%;\n    height: 200px;\n    resize: none;\n    white-space: break-spaces;\n    word-break: break-all;\n    padding: 7px;\n    margin-top: 15px;\n    font-size: 18px;\n    letter-spacing: 0.08em;\n    border-radius: 10px;\n    border: 4px solid rgb(219, 219, 219);\n    box-shadow: 0 0 5px rgb(140, 140, 140);\n}\n\n.textarea:focus {\n    outline: none !important;\n  }\n\n.keyboard {\n   width: 100%;\n   margin: auto;\n}\n\n.keyboard__row {\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(15, 1fr);\n}\n\n.keyboard__key {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 42px;\n    min-height: 42px;\n    margin: 5px;\n    background-color: rgb(255, 255, 255);\n    color: rgb(0, 0, 0);\n    font-weight: bold;\n    border: 0;\n    border-radius: 3px;\n    cursor: pointer;\n}\n\n.long-2fr {\n    grid-column: 2 span;\n}\n\n.long-5fr {\n    grid-column: 7 span;\n}\n\n.inv {\n    color: #fff;\n    background-color: rgb(104, 104, 104);\n}\n\n.active {\n    color: #fff;\n    background-color: #386ce7;\n}\n\n.active_capslock {\n    font-weight: bold;\n    background-color: #1e5ae7;\n}\n\n.keyboard__key {\n\ttransition: all 0.4s;\n\tposition: relative;\n}\n\n.active {\n    font-size: 16px;\n    font-weight: bold;\n    border-radius:  6px;\n    transition: all 0.4s;\n\ttransform: translateY(-6px);\n    box-shadow: 0px 3px 1.5px 3px rgb(136, 136, 136);\n}\n\n.keyboard__key:hover {\n    background-color: #5278ff;\n    color: #fff;\n    transition: all 0.4s;\n    border-radius: 5px;\n}",""]);const h=d},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",n=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),n&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),n&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,n,a,c){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var r=0;r<e.length;r++){var d=[].concat(e[r]);n&&o[d[0]]||(void 0!==c&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=c),s&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=s):d[2]=s),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,n=0;n<t.length;n++)if(t[n].identifier===e){s=n;break}return s}function n(e,n){for(var c={},o=[],i=0;i<e.length;i++){var l=e[i],r=n.base?l[0]+n.base:l[0],d=c[r]||0,p="".concat(r," ").concat(d);c[r]=d+1;var h=s(p),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(m);else{var u=a(m,n);n.byIndex=i,t.splice(i,0,{identifier:p,updater:u,references:1})}o.push(p)}return o}function a(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,a){var c=n(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<c.length;o++){var i=s(c[o]);t[i].references--}for(var l=n(e,a),r=0;r<c.length;r++){var d=s(c[r]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}c=l}}},569:e=>{var t={};e.exports=function(e,s){var n=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var a=void 0!==s.layer;a&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,a&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var c=s.sourceMap;c&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},820:(e,t,s)=>{e.exports=s.p+"6967815c41fe70bcab76.jpg"}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var c=t[n]={id:n,exports:{}};return e[n](c,c.exports,s),c.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),s.b=document.baseURI||self.location.href,(()=>{var e=s(379),t=s.n(e),n=s(795),a=s.n(n),c=s(569),o=s.n(c),i=s(565),l=s.n(i),r=s(216),d=s.n(r),p=s(589),h=s.n(p),m=s(426),u={};u.styleTagTransform=h(),u.setAttributes=l(),u.insert=o().bind(null,"head"),u.domAPI=a(),u.insertStyleElement=d(),t()(m.Z,u),m.Z&&m.Z.locals&&m.Z.locals;const y=[{small:"`",caps:"`",shift:"~",code:"Backquote"},{small:"1",caps:"1",shift:"!",code:"Digit1"},{small:"2",caps:"2",shift:"@",code:"Digit2"},{small:"3",caps:"3",shift:"#",code:"Digit3"},{small:"4",caps:"4",shift:"$",code:"Digit4"},{small:"5",caps:"5",shift:"%",code:"Digit5"},{small:"6",caps:"6",shift:"^",code:"Digit6"},{small:"7",caps:"7",shift:"&",code:"Digit7"},{small:"8",caps:"8",shift:"*",code:"Digit8"},{small:"9",caps:"9",shift:"(",code:"Digit9"},{small:"0",caps:"0",shift:")",code:"Digit0"},{small:"-",caps:"-",shift:"_",code:"Minus"},{small:"=",caps:"=",shift:"+",code:"Equal"},{small:"Backspace",caps:!1,code:"Backspace"},{small:"Tab",caps:!1,code:"Tab"},{small:"q",caps:"Q",code:"KeyQ"},{small:"w",caps:"W",code:"KeyW"},{small:"e",caps:"E",code:"KeyE"},{small:"r",caps:"R",code:"KeyR"},{small:"t",caps:"T",code:"KeyT"},{small:"y",caps:"Y",code:"KeyY"},{small:"u",caps:"U",code:"KeyU"},{small:"i",caps:"I",code:"KeyI"},{small:"o",caps:"O",code:"KeyO"},{small:"p",caps:"P",code:"KeyP"},{small:"[",caps:"[",shift:"{",code:"BracketLeft"},{small:"]",caps:"]",shift:"}",code:"BracketRight"},{small:"\\",caps:"\\",shift:"|",code:"Backslash"},{small:"Del",caps:!1,code:"Delete"},{small:"CapsLock",caps:!1,code:"CapsLock"},{small:"a",caps:"A",code:"KeyA"},{small:"s",caps:"S",code:"KeyS"},{small:"d",caps:"D",code:"KeyD"},{small:"f",caps:"F",code:"KeyF"},{small:"g",caps:"G",code:"KeyG"},{small:"h",caps:"H",code:"KeyH"},{small:"j",caps:"J",code:"KeyJ"},{small:"k",caps:"K",code:"KeyK"},{small:"l",caps:"L",code:"KeyL"},{small:";",caps:";",shift:":",code:"Semicolon"},{small:"'",caps:"'",shift:'"',code:"Quote"},{small:"Enter",caps:!1,code:"Enter"},{small:"Shift",caps:!1,code:"ShiftLeft"},{small:"z",caps:"Z",code:"KeyZ"},{small:"x",caps:"X",code:"KeyX"},{small:"c",caps:"C",code:"KeyC"},{small:"v",caps:"V",code:"KeyV"},{small:"b",caps:"B",code:"KeyB"},{small:"n",caps:"N",code:"KeyN"},{small:"m",caps:"M",code:"KeyM"},{small:",",caps:",",shift:"<",code:"Comma"},{small:".",caps:".",shift:">",code:"Period"},{small:"/",caps:"/",shift:"?",code:"Slash"},{small:"▲",caps:!1,code:"ArrowUp"},{small:"Shift",caps:!1,code:"ShiftRight"},{small:"Ctrl",caps:!1,code:"ControlLeft"},{small:"Win",caps:!1,code:"MetaLeft"},{small:"Alt",caps:!1,code:"AltLeft"},{small:" ",caps:!1,code:"Space"},{small:"Alt",caps:!1,code:"AltRight"},{small:"◄",caps:!1,code:"ArrowLeft"},{small:"▼",caps:!1,code:"ArrowDown"},{small:"►",caps:!1,code:"ArrowRight"},{small:"Ctrl",caps:!1,code:"ControlRight"}],f=[{small:"ё",caps:"Ё",code:"Backquote"},{small:"1",caps:"1",shift:"!",code:"Digit1"},{small:"2",caps:"2",shift:'"',code:"Digit2"},{small:"3",caps:"3",shift:"№",code:"Digit3"},{small:"4",caps:"4",shift:";",code:"Digit4"},{small:"5",caps:"5",shift:"%",code:"Digit5"},{small:"6",caps:"6",shift:":",code:"Digit6"},{small:"7",caps:"7",shift:"?",code:"Digit7"},{small:"8",caps:"8",shift:"*",code:"Digit8"},{small:"9",caps:"9",shift:"(",code:"Digit9"},{small:"0",caps:"0",shift:")",code:"Digit0"},{small:"-",caps:"-",shift:"_",code:"Minus"},{small:"=",caps:"=",shift:"+",code:"Equal"},{small:"Backspace",caps:!1,code:"Backspace"},{small:"Tab",caps:!1,code:"Tab"},{small:"й",caps:"Й",code:"KeyQ"},{small:"ц",caps:"Ц",code:"KeyW"},{small:"у",caps:"У",code:"KeyE"},{small:"к",caps:"К",code:"KeyR"},{small:"е",caps:"Е",code:"KeyT"},{small:"н",caps:"Н",code:"KeyY"},{small:"г",caps:"Г",code:"KeyU"},{small:"ш",caps:"Ш",code:"KeyI"},{small:"щ",caps:"Щ",code:"KeyO"},{small:"з",caps:"З",code:"KeyP"},{small:"х",caps:"Х",code:"BracketLeft"},{small:"ъ",caps:"Ъ",code:"BracketRight"},{small:"&#92;",caps:"&#92;",shift:"&#47;",code:"Backslash"},{small:"Del",caps:!1,code:"Delete"},{small:"CapsLock",caps:!1,code:"CapsLock"},{small:"ф",caps:"Ф",code:"KeyA"},{small:"ы",caps:"Ы",code:"KeyS"},{small:"в",caps:"В",code:"KeyD"},{small:"а",caps:"А",code:"KeyF"},{small:"п",caps:"П",code:"KeyG"},{small:"р",caps:"Р",code:"KeyH"},{small:"о",caps:"О",code:"KeyJ"},{small:"л",caps:"Л",code:"KeyK"},{small:"д",caps:"Д",code:"KeyL"},{small:"ж",caps:"Ж",code:"Semicolon"},{small:"э",caps:"Э",code:"Quote"},{small:"Enter",caps:!1,code:"Enter"},{small:"Shift",caps:!1,code:"ShiftLeft"},{small:"я",caps:"Я",code:"KeyZ"},{small:"ч",caps:"Ч",code:"KeyX"},{small:"с",caps:"С",code:"KeyC"},{small:"м",caps:"М",code:"KeyV"},{small:"и",caps:"И",code:"KeyB"},{small:"т",caps:"Т",code:"KeyN"},{small:"ь",caps:"Ь",code:"KeyM"},{small:"б",caps:"Б",code:"Comma"},{small:"ю",caps:"Ю",code:"Period"},{small:".",caps:".",shift:",",code:"Slash"},{small:"▲",caps:!1,code:"ArrowUp"},{small:"Shift",caps:!1,code:"ShiftRight"},{small:"Ctrl",caps:!1,code:"ControlLeft"},{small:"Win",caps:!1,code:"MetaLeft"},{small:"Alt",caps:!1,code:"AltLeft"},{small:" ",caps:!1,code:"Space"},{small:"Alt",caps:!1,code:"AltRight"},{small:"◄",caps:!1,code:"ArrowLeft"},{small:"▼",caps:!1,code:"ArrowDown"},{small:"►",caps:!1,code:"ArrowRight"},{small:"Ctrl",caps:!1,code:"ControlRight"}];class g{constructor(e,t,s=!0){this.obj={eng:y,rus:f},this.capsLock=e,this.shift=t,this.shiftAndCaps=s,this.numberOfKeys=[14,15,13,13,9],localStorage.getItem("lang")||localStorage.setItem("lang","eng"),this.lang=this.obj[localStorage.getItem("lang")]}init(){const e=document.querySelector("body"),t=document.createElement("div"),s=document.createElement("div"),n=document.createElement("textarea"),a=document.createElement("div");t.classList.add("container"),s.classList.add("keyboard"),n.classList.add("textarea"),a.classList.add("title"),e.prepend(t),t.appendChild(s),e.prepend(n),e.prepend(a),a.innerHTML="Клавиатура создана в операционной системе Windows Переключение языка осущетсвляется через: левыe Ctrl + Alt",this.createRows(s)}createRows(e){let t=[];t=this.numberOfKeys.map((()=>'<div class="keyboard__row"></div>')).join(""),e.insertAdjacentHTML("beforeEnd",t),this.createKeys()}createKeys(){let e=[];e=document.querySelectorAll(".keyboard__row");const t=[[],[],[],[],[]];let s=0,n=0;this.numberOfKeys.forEach(((e,a)=>{for(n+=e;s<n;)t[a].push(this.lang[s]),s+=1})),e.forEach(((e,s)=>e.insertAdjacentHTML("beforeEnd",(e=>t[e].map((e=>{let t="";return e.caps||(t=" inv"),e.small.match(/Enter|Shift|CapsLock|Backspace/)&&(t+=" long-2fr"),"Space"===e.code&&(t=" inv long-5fr"),((e,t)=>`<div class="keyboard__key${t}" data-code="${e}"></div>`)(e.code,t)})).join(""))(s)))),this.creatLetters()}creatLetters(){let e=document.querySelectorAll(".keyboard__key");e=[...e],this.lang.forEach(((t,s)=>{!this.shiftAndCaps&&t.shift?e[s].innerHTML=t.shift:this.capsLock&&t.caps?e[s].innerHTML=t.caps:this.shift&&t.shift?e[s].innerHTML=t.shift:e[s].innerHTML=t.small}))}}(new g).init();const v=new class{constructor(){this.obj={eng:y,rus:f},this.lang=localStorage.getItem("lang"),this.capsLock=!1,this.shift=!1,this.shiftAndCaps=!0,this.keyPressed={},this.keysPress={},this.text="",this.curentKey=null,this.eventType=null,this.indexKey=null,this.code=null,this.count=0,this.repeat=!1,this.isKey=!1,this.typeIsDown=!1,this.mouseDownKeyIs=null,this.isAlt=null}catchEvent(){document.addEventListener("keydown",(e=>{this.detecteKey(e)})),document.addEventListener("keyup",(e=>{this.detecteKey(e)})),document.addEventListener("mousedown",(e=>{this.detecteKey(e)})),document.addEventListener("mouseup",(e=>{this.detecteKey(e)}))}detecteKey(e){const t=[];let s=document.querySelectorAll(".keyboard__key");s=[...s],s.forEach(((t,s)=>{t.dataset.code!==e.code&&t.dataset.code!==e.target.dataset.code&&"mouseup"!==e.type||("keydown"!==e.type&&"keyup"!==e.type||(this.curentKey=t,this.eventType=e.type,this.code=e.code,this.indexKey=s,this.repeat=e.repeat,this.isKey=!0,"keydown"===e.type&&(this.typeIsDown=e.code,this.keysPress[e.code]=!0),"keyup"===e.type&&(this.typeIsDown=!1,this.keysPress[e.code]=!1)),"mousedown"!==e.type&&"mouseup"!==e.type||this.typeIsDown===e.target.dataset.code||this.keysPress[e.target.dataset.code]||("mousedown"===e.type&&(this.mouseDownKeyIs=t,this.eventType="keydown",this.curentKey=t,this.code=e.target.dataset.code,this.indexKey=s,this.isKey=!0),"mouseup"===e.type&&this.isKey&&(this.eventType="keyup")))})),"mouseup"===e.type&&this.isKey&&e.target.dataset.code!==this.curentKey&&this.mouseDownKeyIs&&this.mouseDownKeyIs.classList.remove("active"),"mousedown"===e.type&&(this.isAlt=e.target.dataset.code),"mouseup"!==e.type||e.target.dataset.code||(this.keyPressed[this.isAlt]=!1),this.obj[this.lang].forEach((e=>t.push(e.code))),("keydown"===this.eventType||"keyup"===this.eventType)&&this.isKey&&t.includes(e.code||e.target.dataset.code)&&(("ControlLeft"!==this.code&&"AltLeft"!==this.code||this.repeat)&&"mouseup"!==e.type&&"mousedown"!==e.type||this.changeLang(e),this.switchKeys(),this.changeActive(e),this.code.match(/ShiftLeft|ShiftRight|ControlRight|ControlLeft|AltLeft|AltRight|MetaLeft|CapsLock/g)||this.changeTextinput(),"mouseup"===e.type&&(this.isKey=!1))}changeLang(e){"keydown"!==this.eventType&&"mousedown"!==e.type||"ControlLeft"!==this.code&&"AltLeft"!==this.code||(this.keyPressed[this.code]=!0,this.keyPressed.ControlLeft&&this.keyPressed.AltLeft&&("eng"===localStorage.getItem("lang")?localStorage.setItem("lang","rus"):localStorage.setItem("lang","eng"),this.lang=localStorage.getItem("lang"),this.create())),"keyup"===e.type&&(this.keyPressed[this.code]=!1),"mouseup"===e.type&&(this.keyPressed[e.target.dataset.code]=!1)}switchKeys(){"keydown"===this.eventType&&this.code.match(/ShiftLeft|ShiftRight/g)&&!this.shift?this.repeat||(this.shift=!this.shift,this.capsLock=!this.capsLock,this.shiftAndCaps=!this.shiftAndCaps,this.create()):"keydown"===this.eventType&&"CapsLock"===this.code&&(this.repeat||(this.capsLock=!this.capsLock,this.create())),"keyup"===this.eventType&&this.code.match(/ShiftLeft|ShiftRight/g)&&this.shift&&(this.repeat||(this.shift=!this.shift,this.capsLock=!this.capsLock,this.shiftAndCaps=!this.shiftAndCaps,this.create()))}changeActive(e){const t=document.querySelector("[data-code='ShiftLeft']"),s=document.querySelector("[data-code='ShiftRight']");"keyup"===this.eventType&&"CapsLock"===this.curentKey.dataset.code&&(this.eventType=null),"keydown"===this.eventType?("CapsLock"===this.curentKey.dataset.code&&this.curentKey.classList.contains("active_capslock")&&!this.repeat?this.curentKey.classList.remove("active_capslock"):"CapsLock"!==this.curentKey.dataset.code||this.curentKey.classList.contains("active_capslock")||this.repeat||this.curentKey.classList.add("active_capslock"),"CapsLock"===this.curentKey.dataset.code||this.curentKey.classList.contains("active")||this.curentKey.classList.add("active")):"keyup"!==this.eventType&&"mouseup"!==e.type||(e.code&&("ShiftLeft"===e.code||"ShiftRight"===e.code?(t.classList.remove("active"),s.classList.remove("active"),this.keysPress.ShiftRight=!1,this.keysPress.ShiftLeft=!1):this.curentKey.classList.remove("active")),e.target.dataset.code&&e.target.classList.remove("active"))}changeTextinput(){const e=document.querySelector("textarea");e.focus();const t=this.obj[this.lang][this.indexKey];let s=e.selectionStart,n=e.selectionEnd;"keydown"===this.eventType&&t.caps&&(this.text=this.curentKey.textContent);"keydown"===this.eventType&&"Backspace"===t.code&&s>0&&(s-=1),"keydown"===this.eventType&&"Delete"===t.code&&(n+=1),("keydown"===this.eventType&&"Enter"===t.code||s-e.value.lastIndexOf("\n",s-1)==72&&!t.code.match(/ArrowUp|ArrowDown|ArrowLeft|Backspace|Delete|ArrowRight/g))&&(()=>{this.text="\n"})(),"keydown"===this.eventType&&"Tab"===t.code&&(()=>{this.text="\t"})(),"keydown"===this.eventType&&"Space"===t.code&&(()=>{this.text=" "})(),"keydown"===this.eventType&&"ArrowLeft"===t.code&&(()=>{this.text="◄"})(),"keydown"===this.eventType&&"ArrowRight"===t.code&&(()=>{this.text="►"})(),"keydown"===this.eventType&&"ArrowUp"===t.code&&(()=>{this.text="▲"})(),"keydown"===this.eventType&&"ArrowDown"===t.code&&(()=>{this.text="▼"})(),e.setRangeText(this.text,s,n,"end"),this.text=""}create(){new g(this.capsLock,this.shift,this.shiftAndCaps).creatLetters()}refresh(){this.capsLock=!1,this.shift=!1,this.shiftAndCaps=!0,this.keyPressed={},this.text="",this.curentKey=null,this.eventType=null,this.indexKey=null,this.code=null,this.repeat=!1,this.isKey=!1,this.typeIsDown=!1,this.mouseDownKeyIs=null,this.create();let e=document.querySelectorAll(".keyboard__key");e=[...e],e.forEach((e=>{e.classList.contains("active_capslock")&&e.classList.remove("active_capslock"),e.classList.contains("active")&&e.classList.remove("active")}))}};v.catchEvent(),document.onkeydown=()=>!1,window.addEventListener("blur",(()=>{v.refresh()}))})()})();